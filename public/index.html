

<html>
  <head>
  <meta charset="UTF-8">

  <title>My RedBubble. Make it flow.</title>
  <link rel="stylesheet" type="text/css" href="js/slick/slick.css"/>


  <link rel="stylesheet" type="text/css" href="js/slick/slick-theme.css"/>
  <link rel="stylesheet" type="text/css" href="css/theme.css"/>
  <!-- <link rel="stylesheet" type="text/css" href="css/responsive.css"/> -->

  <script type="text/javascript" src="js/slick/jquery-1.11.0.min.js"></script>
  <script type="text/javascript" src="js/slick/jquery-migrate-1.2.1.min.js"></script>
  <script type="text/javascript" src="js/slick/slick.min.js"></script>
  <script type="text/javascript" src="js/circle-progress.js"></script>
  <script type="text/javascript" src="js/startup-theme.js"></script>
  <script type="text/javascript" src="js/underscore.js"></script>
  <script type="text/javascript" src="js/all_content.js"></script>
  <script type="text/javascript" src="js/echo.js"></script>

  </head>
  <body>


    <section id="features" class="blue">
      <div id = "content" class="content"> </div>
      <div class="load-more-button">
        <a id = "load-more" href='#'>Load more </a>
      </div>
			<div class="hover-tile">
  				<div class="fav-count">
  					<img src="img/icons/heart.svg" class="tile-icon">
  					<span class="fav-counter">0</span>
  				</div>
  		</div>

    </section>


    <div class='pop-up-overlay'>
    </div>

    <div class='pop-up'>
			<h2> What interests you?</h2>
			<h4> Pick a few things that catch your eye, you can always fine-tune things later on.</h4>

      <div class='seeding-img'>
        <div class='each-img' data-theme="animals">
          <img src="img/themes/animals.png"/>
          <label>Animals</label>
        </div>
        <div class='each-img' data-theme="aztec">
          <img src="img/themes/aztec.png">
          <label>Aztec</label>
        </div>
        <div class='each-img' data-theme="patterns">
          <img src="img/themes/patterns.png">
          <label>Patterns</label>
        </div>
        <div class='each-img' data-theme="photography">
          <img src="img/themes/photography.png">
          <label>Photography</label>
        </div>
      </div>

      <div class='seeding-img'>
        <div class='each-img' data-theme="music">
          <img src="img/themes/music.png">
          <label>Music</label>
        </div>
        <div class="each-img" data-theme="nature">
          <img src="img/themes/nature.png">
          <label>Nature</label>
        </div>
        <div class="each-img" data-theme="videogames">
          <img src="img/themes/video-games.png">
          <label>Video Games</label>
        </div>
        <div class="each-img" data-theme="scifi">
          <img src="img/themes/scifi.png">
          <label>Science Fiction</label>
        </div>
      </div>

      <div class='seeding-img'>
        <div class='each-img' data-theme="cycling">
          <img src="img/themes/cycling.png">
          <label>Cycling</label>
        </div>
        <div class="each-img" data-theme="food">
          <img src="img/themes/food.png">
          <label>Food</label>
        </div>
        <div class="each-img" data-theme="popculture">
          <img src="img/themes/pop-culture.png">
          <label>Pop Culture</label>
        </div>
        <div class="each-img" data-theme="flowers">
          <img src="img/themes/flowers.png">
          <label>Flowers</label>
        </div>
      </div>


      <div class="message">
        <div id="circle"></div>
        <center>
          <h2> Personalising the Redbubble experience for you.
          <br/>
          </h2>
        </center>
      </div>

    </div>

    <script type="text/javascript">

        counter = 0;
        _.each(Object.keys(content), function(k) {
            /* Set the header*/
            h = document.createElement('h2');
            h.innerHTML = k;
            document.getElementById("content").appendChild(h);
            d = document.createElement('div');
            d.className = "slider responsive";
            if (counter > 2){
              // d.style.visibility = "hidden";
              // h.style.visibility = "hidden";
              d.classList.add("to-load-more");
              h.classList.add("to-load-more");
            };
            f = content[k];
            _.each(f, function(image){
              (a_d = document.createElement('a')).href = image["url"];
              a_d.title = image["title"];
              a_d.target = "_blank";

              (img_d = document.createElement('div')).className = "carousel-img";
              img_d.setAttribute('count_favs', image['count_favs'])
              if (counter < 2){
                (img = document.createElement('img')).setAttribute('src', image["image_url"]);
              }
              else {
                (img = document.createElement('img')).setAttribute('src', "img/blank.gif");
                img.setAttribute('data-echo', image['image_url']);
              };

              (imgtitle = document.createElement('p')).className = "artwork-desc";
              imgtitle.innerHTML = image["title"] + "<br/> <span class='artwork-artist'>by " + image["user_name"] + "</span>";

              // <img src="img/blank.gif" alt="Photo" data-echo="img/photo.jpg">

              a_d.appendChild( img );
              img_d.appendChild(a_d);
              d.appendChild(img_d);
              img_d.appendChild(imgtitle);

            });
            counter = counter + 1;

            document.getElementById("content").appendChild(d);
          });

          // Load more handler
          $('.to-load-more').hide();

          $('.load-more-button').click(function (){
            $('.to-load-more').show();
            // $('#content').children().each(function(){
            //   $(this).show();  //css('visibility', 'visible');
            // });


            $('.load-more-button').hide();
            echo.render();

          });
    </script>



  </body>
</html>

